/*
 * Copyright (c) 2015 Actions Semi Co., Ltd.
 *
 * SPDX-License-Identifier:	GPL-2.0+
 */

/dts-v1/;

#include "ats3605.dtsi"

/ {
	model = "ats3605 evb nor";
	compatible ="actions,ats3605";

	chosen {
		stdout-path = &serial2;
	};


	spi0: spi@b0300000 {
		status = "okay";
		m25p80@0 {
            compatible = "m25p80";
            #address-cells = <1>;
            #size-cells = <0>;
            reg = <0x0>;
            spi-max-frequency = <60000000>;
            uboot-partition = <0x0 0xe0000>;
            misc-partition = <0xe0000 0x20000>;
            system-partition = <0x100000 0xf00000>;
        };
	};

	hard_powerkey {
		compatible = "actions,hard_powerkey";
		cpu_gpios = <&gpiob 3 1>;/*hard_powerkey, (0: high  , 1: low )*/
		//pmu_sgpio = <4 1> ;  /*4 SGPIO num,    (0: high, 1: low)*/
	};
	i2c2: i2c@b0188000{
		#address-cells = <1>;
		#size-cells = <1>;
		atc2603c_pmic {
			compatible = "actions,atc2603c";
			reg = <0x65 1>;

			atc2603c_pstore {
				compatible = "actions,atc2603c-pstore";
			};

			voltage-regulators {
				dcdc1: dcdc1 {
					regulator-name = "dcdc1";
					regulator-min-microvolt = <1150000>;
					regulator-max-microvolt = <1150000>;
					regulator-always-on;
				};

				dcdc3: dcdc3 {
					regulator-name = "dcdc3";
					regulator-min-microvolt = <3100000>;
					regulator-max-microvolt = <3100000>;
					regulator-always-on;
				};

			};

			atc2603c-battery{
				compatible = "actions,atc2603c-battery";
				capacity = <4000>;/*unit:mAh*/
				shutdown_current = <50>;/*unit:ua*/
			};
			atc2603c-charger{
				compatible = "actions,atc2603c-charger";
				rsense = <20>;/*unit:mohm*/
				support_adaptor_type = <3>; /*1: DCIN  2: USB  3:DCIN+USB*/
				usb_pc_ctl_mode = <1>; /*0:disable vbus ctl;1:current limited;2:voltage limited*/
				//wall_switch = <&gpioa 25 0>;/*GPIOA25,0: high, 1: low*/
			};
		};
	};


	usb2h0: usb@b0240000 {
		id = <0>;
		usbecs = <0xb0158090>;
		vbus-gpio = <&gpiob 9 0>;
		status = "disabled";
	};

	usb2h1: usb@b0250000 {
		id = <1>;
		usbecs = <0xb0158094>;
		status = "okay";
	};
};
